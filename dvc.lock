schema: '2.0'
stages:
  preprocess_data:
    cmd: mkdir -p ./data/preprocessed && uv run preprocess_data
    deps:
    - path: data/raw/Amazon Food Reviews/
      hash: md5
      md5: 09c682d2842ec908860aedae0ba600cc.dir
      size: 300904694
      nfiles: 1
    - path: data/raw/IMDB Dataset/
      hash: md5
      md5: 186740f5cbef806685fcd27585e6f852.dir
      size: 66212309
      nfiles: 1
    - path: src/opinionlens/preprocessing/clean.py
      hash: md5
      md5: 6c3c121a895a63672af8e0f685d9fc19
      size: 272
    - path: src/opinionlens/preprocessing/scripts/preprocess_data.py
      hash: md5
      md5: 0cdc5f8576ec7a53aca12261331d6c69
      size: 1736
    - path: src/opinionlens/preprocessing/tokenize.py
      hash: md5
      md5: fce993fc09013a0e45c08fa7bcc710ec
      size: 245
    params:
      params.yaml:
        preprocessing.data_splits:
        - 0.8
        - 0.1
        - 0.1
    outs:
    - path: data/preprocessed/amazon_food_reviews/
      hash: md5
      md5: d1a73e15d1e66cacfa9aa627843c411a.dir
      size: 237711090
      nfiles: 3
    - path: data/preprocessed/imdb_dataset/
      hash: md5
      md5: 12ed721eab42e5783b722ab5ee851625.dir
      size: 62802080
      nfiles: 3
  vectorize_data:
    cmd: mkdir -p ./data/vectorized && uv run vectorize_data
    deps:
    - path: data/preprocessed/
      hash: md5
      md5: d4aafacd50abeb3287d15008cc08fd34.dir
      size: 300513170
      nfiles: 6
    - path: src/opinionlens/preprocessing/scripts/vectorize_data.py
      hash: md5
      md5: 40efecf8d69ea2efb81b8a39182fe66d
      size: 1795
    - path: src/opinionlens/preprocessing/vectorize.py
      hash: md5
      md5: 4717282105da1a10c51a0ad454ef6a29
      size: 942
    outs:
    - path: data/vectorized/
      hash: md5
      md5: c5034cfb7bea5a1d3632a958c1812298.dir
      size: 453673476
      nfiles: 6
  run_baselines:
    cmd: uv run baselines
    deps:
    - path: data/preprocessed/
      hash: md5
      md5: e273f67071cf73efb3840c23b5036965.dir
      size: 300513170
      nfiles: 6
  train_sklearn:
    cmd: uv run train_sklearn
    deps:
    - path: data/vectorized/
      hash: md5
      md5: c5034cfb7bea5a1d3632a958c1812298.dir
      size: 453673476
      nfiles: 6
  tune_sklearn:
    cmd: uv run tune_sklearn
    deps:
    - path: data/vectorized/
      hash: md5
      md5: c5034cfb7bea5a1d3632a958c1812298.dir
      size: 453673476
      nfiles: 6
