schema: '2.0'
stages:
  preprocess_data:
    cmd: mkdir -p ./data/preprocessed && uv run preprocess_data
    deps:
    - path: data/raw/IMDB Dataset/
      hash: md5
      md5: 186740f5cbef806685fcd27585e6f852.dir
      size: 66212309
      nfiles: 1
    - path: src/opinionlens/preprocessing/clean.py
      hash: md5
      md5: 6c3c121a895a63672af8e0f685d9fc19
      size: 272
    - path: src/opinionlens/preprocessing/scripts/preprocess_data.py
      hash: md5
      md5: ada83a371aa22994589a39ffc8e251bc
      size: 1663
    - path: src/opinionlens/preprocessing/tokenize.py
      hash: md5
      md5: fce993fc09013a0e45c08fa7bcc710ec
      size: 245
    params:
      params.yaml:
        preprocessing.data_splits:
        - 0.8
        - 0.1
        - 0.1
    outs:
    - path: data/preprocessed/imdb_dataset/
      hash: md5
      md5: 12ed721eab42e5783b722ab5ee851625.dir
      size: 62802080
      nfiles: 3
  vectorize_data:
    cmd: mkdir -p ./data/vectorized && uv run vectorize_data
    deps:
    - path: data/preprocessed/
      hash: md5
      md5: 7ee0446e9995ee4c142254476d4447e2.dir
      size: 62802080
      nfiles: 3
    - path: src/opinionlens/preprocessing/scripts/vectorize_data.py
      hash: md5
      md5: bb58e790b50bc0936eda671bd866505d
      size: 1983
    - path: src/opinionlens/preprocessing/vectorize.py
      hash: md5
      md5: dc0a7d263b890767ac59afa239e7f99f
      size: 954
    outs:
    - path: data/vectorized/
      hash: md5
      md5: 3361b68dec216f89abf694e3835374f1.dir
      size: 82048196
      nfiles: 6
  run_baselines:
    cmd: uv run python -m src.training.baselines
    deps:
    - path: data/preprocessed/
      hash: md5
      md5: 7ee0446e9995ee4c142254476d4447e2.dir
      size: 62802080
      nfiles: 3
    - path: src/training/baselines.py
      hash: md5
      md5: e6d6fa1c28afa4786b0bfe950b3cd945
      size: 2663
  train_sklearn:
    cmd: uv run python -m src.training.train_sklearn
    deps:
    - path: data/vectorized/
      hash: md5
      md5: 3361b68dec216f89abf694e3835374f1.dir
      size: 82048196
      nfiles: 6
    - path: src/training/train_sklearn.py
      hash: md5
      md5: bc8401782a2baaec835fa2cb0e8f8ba2
      size: 854
  tune_sklearn:
    cmd: uv run tune_sklearn
    deps:
    - path: data/vectorized/
      hash: md5
      md5: 3361b68dec216f89abf694e3835374f1.dir
      size: 82048196
      nfiles: 6
